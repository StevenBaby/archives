# 新功能测试

[annotation]: <id> (316fd481-97d0-42ac-93a3-5cc62a963e18)
[annotation]: <status> (public)
[annotation]: <create_time> (2019-04-18 23:13:09)
[annotation]: <category> (计算机技术)

> 原文链接：<http://blog.ccyg.studio/article/316fd481-97d0-42ac-93a3-5cc62a963e18>

## p5.js

下面时官方的例子，我在窗口改变时改变了画布的大小，使得画布能够适应屏幕。

<div class="ui segments">
    <div class="ui segment" id="sketch-holder"></div>
    <div class='ui segment'>
        <span>这里是画布状态信息：</span>
        <span class="status"></span>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/p5@0.8.0/lib/p5.min.js"></script>

<script>
function setup() {
    var width = $("#sketch-holder"). width();
    canvas = createCanvas(width, width/1.77);
    canvas.parent('sketch-holder');
}

function draw() {
    if (mouseIsPressed) {
        fill(0);
    } else {
        fill(255);
    }
    ellipse(mouseX, mouseY, 80, 80);
}

function windowResized() {
  var width = parseInt($("#sketch-holder").width());
  var height = parseInt(width / 1.77);
  resizeCanvas(width, height);
  $('.status').html(width + " " + height);
}
</script>

附上相关的代码：

```html
<div class="ui segments">
    <div class="ui segment" id="sketch-holder"></div>
    <div class='ui segment'>
        <span>这里是画布状态信息：</span>
        <span class="status"></span>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/p5@0.8.0/lib/p5.min.js"></script>
```

```javascript
function setup() {
    var width = $("#sketch-holder"). width();
    canvas = createCanvas(width, width/1.77);
    canvas.parent('sketch-holder');
}

function draw() {
    if (mouseIsPressed) {
        fill(0);
    } else {
        fill(255);
    }
    ellipse(mouseX, mouseY, 80, 80);
}

function windowResized() {
  var width = $("#sketch-holder").width();
  var height = parseInt(width / 1.77);
  resizeCanvas(width, height);
  $('.status').html(width + " " + height);
}
```