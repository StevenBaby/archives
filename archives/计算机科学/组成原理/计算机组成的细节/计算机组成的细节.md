# 计算机组成的细节

[annotation]: <id> (9dda9bf2-c74a-4408-8314-de5309f52e5f)
[annotation]: <status> (protect)
[annotation]: <create_time> (2019-09-25 21:15:36)
[annotation]: <category> (计算机科学)
[annotation]: <tags> (组成原理)
[annotation]: <comments> (false)
[annotation]: <url> (http://blog.ccyg.studio/article/9dda9bf2-c74a-4408-8314-de5309f52e5f)

## CPU内部结构

- PC 程序计数器：用于指出下一条指令地址
- AR 地址寄存器：保存当前 CPU 所访问的内存单元的地址
- Rx 变址寄存器：
- Rb 基址寄存器：
- SP 堆栈指针
- CF 进位标识符
- ZF 零标识符
- SF 符号标识符
- PF 奇偶标识符
- AF 辅助进位标识符
- ALU 算术逻辑单元

## 指令格式

对于双操作数指令来说，每条指令都需要包含以下四个地址信息：

- 第一操作数地址 $A_1$
- 第二操作数地址 $A_2$
- 操作结果存放地址 $A_3$
- 下一条指令的地址 $A_4$

大多数计算机中用 程序计数器(PC) 指出下一条
将要执行指令的地址。

| 指令类型 | 含义 |
| - | - |
| 三地址指令 | $A_1 + A_2 \to A_3$ | 
| 二地址指令 | $A_1 + A_2 \to A_1$ |
| 一地址指令 | $Acc + A_1 \to Acc$ |
| 零地址指令 | 堆栈操作 |

## 寻址技术

寻址可分为：

- **指令寻址**：寻找下一条将要执行的指令
    - 顺序寻址：PC + 1 自动生成下一条指令的地址
    - 跳跃寻址：需要通过程序转移类指令实现 （**条件转移指令**）
        - 直接寻址
        - 相对寻址
        - 间接寻址
- **数据寻址**：寻找操作数地址
    - 立即寻址
    - 寄存器寻址
    - 直接寻址
    - 间接寻址
    - 变址寻址
    - 基址寻址
    - 相对寻址
    - 页面寻址

| 寻址方式 | 规则 | 主要优点 | 主要缺点 |
| - | - | - | - |
| 立即寻址 | 操作数 = A | 无需访问存储器 | 操作数范围受限 |
| 寄存器寻址 | EA = R | 无序访问存储器 | 寻址空间受限 |
| 直接寻址 | EA = A | 简单 | 寻址空间受限 |
| 间接寻址 | EA = (A) | 寻址空间大 | 多次访问主存 | 
| 寄存器间接寻址 | EA = (R) | 寻址空间大 | 多访问一次主存 |
| 偏移寻址 | EA = (R) + A | 灵活 | 复杂 |

寄存器寻址方式的优点：

- 指令字长短
- 指令执行速度快
- 支持向量、矩阵运算

寄存器寻址方式的缺点：

- 不利于优化编译
- 现场切换困难
- 硬件复杂

**间接寻址** 与 **变址寻址** 的设计目标都是为了解决操作数地址的修改问题。








## 堆栈操作

## 指令类型