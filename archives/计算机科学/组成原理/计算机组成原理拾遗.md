# 计算机组成原理拾遗

[annotation]: <id> (7a6aeaea-9bcc-43e7-8463-086a32bcbd24)
[annotation]: <status> (public)
[annotation]: <create_time> (2020-10-13 22:59:10)
[annotation]: <category> (计算机科学)
[annotation]: <tags> (组成原理)
[annotation]: <comments> (false)
[annotation]: <url> (http://blog.ccyg.studio/article/7a6aeaea-9bcc-43e7-8463-086a32bcbd24)


## 数据的表示和运算

### 补码一位乘法 （Booth算法）

进行 n 轮加法、移位，最后再多来一次加法。

每次加法根据当前 MQ寄存器中的最低位、辅助位来确定，

可能 +0、$+[x]_{补}$、$+[-x]_{补}$

- 辅助位 - 最低位 = 1 时, $(ACC) + [x]_补$
- 辅助位 - 最低位 = 0 时, $(ACC) + 0$
- 辅助位 - 最低位 = -1 时, $(ACC) + [-x]_补$

其他注意点补充：

- 辅助位是实际上寄存器中的最低位
- 最低位是补码乘数的最低位，也就是在最低位之后加一位辅助位
- 补码乘法符号位必须参与运算
- 被乘数使用双符号位补码
- 乘数使用单符号位补码

### 溢出判断

用两位符号位来做溢出判断

- 00 结果为正，无溢出
- 01 正溢出
- 10 负溢出
- 11 结果为负，无溢出

### 原码除法 恢复余数法

### 原码除法 加减交替法

### 补码除法

- 数据都用补码表示，符号位参与运算
- 初始时观察被除数与除数符号，同号做减法，异号做加法
- 若余数与除数同号，则商1后余数左移一位减去除数，若余数与除数异号，则商0后余数左移一位加上除数
- 重复上一步操作，直到得到 n 位商
- 一般在末尾补上一个1

### 浮点数的运算

左规：当尾数出现 

- 00.0xxxx (原码或补码正数)
- 11.1xxxx (补码负数)

需要左规（尾数左移，阶码减一），可能出现多次左规，规格化后结果形为

- x.1xxxxx (原码或补码正数)
- x.0xxxxx (补码负数)

右规：当尾数求和出现 10.0xxxxx 或 01.1xxxxx 时，需要右规（尾数右移，阶码加一），且仅需要一次右规。

### ALU

74181 是四位并行加法器。
74182 是多个 74181 并行进位的辅助芯片，一块 74182 可以并四块 74181。先行进位加法器。

---

## 中央处理器

---
## 总线

按传送格式总线被划分为 **并行总线** 和 **串行总线**

**猝发总线** 方式只需要一次地址传输

**PCI-Express** 采用并行传输方式

- 链式查询方式需要 3 根信号线
- 计数器查询方式需要 $\lceil\log_2n + 1\rceil$ 根信号线
- 独立请求方式需要 $2n$ 根信号线，$n$ 为设备数

---

## 输入输出系统

* 道密度是磁盘半径方向单位长度的磁道数
* 位密度是磁道单位长度上能记录的二进制代码位数
* 面密度是位密度和道密度的乘积

---

- 存取时间 = 寻道时间 + 延迟时间 + 传输时间
- 磁盘数据传输速率 = 转速 $\times$ 每道信息量
- 平均等待时间 = $\displaystyle\frac{1}{2r}$
- 地址格式：驱动器号 + 柱面（磁道）号 + 盘面（磁头）号 + 扇区号

---

* **平均寻道时间** 是磁头从开始移动到数据所在的磁道所花费时间的平均值。
* **平均等待时间（延迟时间）** 是磁头已处于要访问的磁道，等待所要访问的 **扇区** 旋转至 **磁头** 下方的时间。
* CPI 表示一条只能需要的时钟周期
* **数据传输率** 磁盘存储器在单位时间内向主机传送数据的字节数。 数据传输率 = 磁盘转速 * 磁道容量

---

磁盘阵列 RAID：

0. 无冗余无校验
1. 镜像磁盘
2. 采用海明码
3. 位交叉奇偶校验
4. 块交叉奇偶校验
5. 无独立校验的奇偶校验
