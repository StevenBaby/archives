# 快速排序

[annotation]: <id> (e518ad71-a442-4e97-b2a1-72a9c422b483)
[annotation]: <status> (public)
[annotation]: <create_time> (2019-04-22 16:20:56)
[annotation]: <category> (计算机科学)
[annotation]: <tags> (数据结构)

> 原文链接：<http://blog.ccyg.studio/article/e518ad71-a442-4e97-b2a1-72a9c422b483>

---

下面的动画演示了快速排序的过程。

<div class="ui segments">
    <div class="ui segment" id="content"></div>
    <div class='ui segment'>
        <button class='ui primary reset button'>重置</button>
        <button class='ui green start button'>开始</button>
        <button class='ui red stop button'>停止</button>
        <button class='ui teal speed down button'>减速</button>
        <button class='ui pink speed up button'>加速</button>
    </div>
</div>

<div>
    <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@0.8.0/lib/p5.min.js"></script>
    <script src="sort.js"></script>
</div>

<script>
$(document).ready(function () {
    sketch.algorithm = async function (array, start, end) {
        if (start >= end) return;

        console.log('start algorithm');
        sketch.activate = [start, end - 1];
        sketch.temp_value = array[start];

        let low = start;
        let high = end - 1;

        while (low < high) {
            while (sketch.running && low < high && !await sketch.compare(array, high, array.length)) {
                high--;
            }
            if (!sketch.running) {
                return;
            }
            await sketch.swap(array, low, high);            
            while (sketch.running && low < high && await sketch.compare(array, low, array.length)) {
                low++;
            }
            if (!sketch.running) {
                return;
            }
            await sketch.swap(array, low, high);
        }
        if (!sketch.running) {
            return;
        }
        await sketch.algorithm(array, start, low);
        if (!sketch.running) {
            return;
        }
        await sketch.algorithm(array, low + 1, end);
        if (!sketch.running) {
            return;
        }
        sketch.activate = [];
        sketch.temp_value = null;
    };
});
</script>