# X86汇编语言笔记

[annotation]: <id> (b5387ae1-00df-4c1d-ad2b-ee87682f6a90)
[annotation]: <status> (public)
[annotation]: <create_time> (2021-03-02 13:49:45)
[annotation]: <category> (计算机技术)
[annotation]: <tags> (汇编语言)
[annotation]: <comments> (true)
[annotation]: <url> (http://blog.ccyg.studio/article/b5387ae1-00df-4c1d-ad2b-ee87682f6a90)

## 主引导扇区

处理器加电或者复位之后，如果硬盘是首选的启动设备，那么 **ROM-BIOS** 将试图读取硬盘的第一个扇区（编号从0开始），这个扇区就是主引导扇区 (MBR, Main Boot Sector)。

读取的主引导扇区数据有 512 字节，ROM-BIOS 程序将它加载到逻辑地址 0x0000:0x7c00 处，也就是物理地址 `0x07c00` 处，然后判断它是否有效。

一个有效的主引导扇区，其最后两个字节应该是 0x55 和 0xAA。ROM-BIOS 程序首先检测这两个标志，如果主引导扇区有效，则以一个段间转义指令 jmp 0x0000:0x7c00 跳转到那里继续执行。

一般主引导扇区程序用于加载操作系统内核，可能会有多级加载，毕竟 512 字节的代码可以实现的功能有限。

